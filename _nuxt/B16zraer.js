import{e as A,r as k,f as M,c as a,a as e,m as y,F as C,g as S,h as n,v as V,o,n as B,_ as P,k as G,t as h,x as U,y as N,z as O,A as Q,B as W,C as j,D as Y,E as K,G as J,H as X,I as Z,J as ee,K as te,L as se,M as oe,N as ae,O as ne,P as le,Q as re,R as ie,S as ce,T as ue,U as de,V as _e,W as pe,X as me,Y as fe,Z as ve,$ as he,a0 as ge,a1 as be,a2 as ye,a3 as ke,a4 as we,a5 as $e,a6 as Ce,b as x,a7 as xe,a8 as Se,a9 as Ie,s as F,j as Pe,i as R,aa as Te}from"./DF4A0mzK.js";import{s as Be,V as Ae,b as z,_ as qe,u as Ve,a as Fe}from"./DigD4jyT.js";const ze={class:"hero"},De={class:"slideshow"},Ge=["src"],Re={class:"gallery-grid"},He=["src","onClick"],Ee=["src"],Le={class:"thumbnail-strip"},Me=["src","onClick"],Ue=A({__name:"PropHero",props:{images:{}},setup($){const r=$,f=k(0),t=k(!1),d=k(!1),i=k(0);M(()=>{Be(()=>{f.value=(f.value+1)%r.images.length},5e3)});function v(){t.value=!0}function g(u){i.value=u,d.value=!0}function c(){t.value=!1,d.value=!1}function l(){i.value=(i.value+1)%r.images.length}function s(){i.value=(i.value-1+r.images.length)%r.images.length}return(u,q)=>(o(),a("div",ze,[e("div",De,[(o(!0),a(C,null,S(u.images,(_,b)=>(o(),a("img",{key:_,src:_,class:B(["hero-image",{active:b===n(f)}]),alt:"Hero Slide"},null,10,Ge))),128))]),e("button",{class:"see-photos-btn",onClick:v},"See all photos"),n(t)?(o(),a("div",{key:0,class:"modal",onClick:V(c,["self"])},[e("div",Re,[(o(!0),a(C,null,S(u.images,(_,b)=>(o(),a("img",{key:_,src:_,class:"gallery-thumb",onClick:I=>g(b)},null,8,He))),128))])])):y("",!0),n(d)?(o(),a("div",{key:1,class:"modal slideshow-modal",onClick:V(c,["self"])},[e("img",{src:u.images[n(i)],class:"slideshow-image"},null,8,Ee),e("button",{class:"nav left",onClick:s},"‹"),e("button",{class:"nav right",onClick:l},"›"),e("button",{class:"close",onClick:c},"×"),e("div",Le,[(o(!0),a(C,null,S(u.images,(_,b)=>(o(),a("img",{key:_,src:_,class:B(["thumbnail-preview",{active:b===n(i)}]),onClick:V(I=>i.value=b,["stop"])},null,10,Me))),128))])])):y("",!0)]))}}),Ne=P(Ue,[["__scopeId","data-v-cb82d1e3"]]),Oe={class:"amenities-grid"},Qe={class:"amenity-text"},We=A({__name:"Amenities",props:{amenities:{}},setup($){const r=$,f={};function t(l,s){s.forEach(u=>{f[u]=l})}t(U,["ac","refrigerator","mini_fridge","freezer"]),t(N,["alfresco_dining","barbeque_utensils","cooking_basics","dishes_and_silverware","oven","kitchen","full_kitchen","formal_dining_area"]),t(O,["arcade_machine","game_console"]),t(Q,["board_games","life_size_games","theme_room"]),t(W,["baking_sheet","cleaning_products","hair_dryer"]),t(j,["books"]),t(Y,["ceiling_fan","portable_fans"]),t(K,["coffee","coffee_maker"]),t(J,["hangers","washer","wardrobe_or_closet","iron","laundromat_nearby"]),t(X,["dining_table"]),t(Z,["dishwasher","dryer","essentials","microwave","stair_gates","toaster"]),t(ee,["bbq_area","fireplace","heating","fire_pit"]),t(te,["fire_extinguisher"]),t(se,["first_aid_kit"]),t(oe,["free_parking","outdoor_parking","street_parking"]),t(ae,["gym"]),t(ne,["blender"]),t(le,["laptop_friendly_workspace"]),t(re,["bathtub","hot_water"]),t(ie,["high_chair","outdoor_seating"]),t(ce,["pool"]),t(ue,["tv","smart_tv"]),t(de,["wine_glasses"]),t(_e,["wireless_internet","internet"]),t(pe,["crib","pack_n_play_travel_crib"]),t(me,["playground"]),t(fe,["twenty_four_hour_checkin"]),t(ve,["garden_or_backyard","patio","patio_or_balcony","room_darkening_shades"]),t(he,["conditioner","body_soap","shampoo","shower_gel"]),t(ge,["long_term_stays_allowed","private_entrance"]),t(be,["carbon_monoxide_detector"]),t(ye,["private_living_room"]),t(ke,["bathroom_essentials","bath_towel","walk_in_shower"]),t(we,["toilet_paper"]),t($e,["bed_linens","bedroom_comforts","extra_pillows_and_blankets"]),t(Ce,["smoke_detector"]);const d=Se;function i(l){return f[l]||d}function v(l){const s={ac:"AC",bbq_area:"BBQ Area",wifi:"Wi-Fi",tv:"TV",smart_tv:"Smart TV",twenty_four_hour_checkin:"Twenty-Four Hour Check-In",walk_in_shower:"Walk-In Shower"};return s[l]?s[l]:l.split("_").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" ")}const g=k(!1),c=G(()=>g.value?r.amenities:r.amenities.slice(0,16));return(l,s)=>(o(),a(C,null,[e("ul",Oe,[(o(!0),a(C,null,S(n(c),u=>(o(),a("li",{key:u,class:"amenity-item"},[x(n(xe),{icon:i(u),class:"icon"},null,8,["icon"]),e("span",Qe,h(v(u)),1)]))),128))]),r.amenities.length>16?(o(),a("button",{key:0,class:"toggle-btn",onClick:s[0]||(s[0]=u=>g.value=!n(g))},h(n(g)?"Show less":"Show all amenities"),1)):y("",!0)],64))}}),je=P(We,[["__scopeId","data-v-51decdd6"]]),Ye={class:"booking-wrapper"},Ke={class:"booking-component"},Je={key:0},Xe={key:1,class:"calendar-col"},Ze={key:2,class:"booking-info"},et={class:"placeholder-guest-selector"},tt={key:0,class:"price-info"},st={class:"price-table"},ot={class:"price-table-body"},at={class:"td-end"},nt={class:"td-start"},lt={class:"td-end"},rt={class:"td-start"},it={class:"td-end"},ct={class:"total-table"},ut={class:"price-table-body"},dt={class:"td-total-end"},_t={class:"promo-container"},pt={type:"text",class:"promo-code-form",ref:"promo-form"},mt={key:1,class:"loader"},ft=A({__name:"PropBooking",props:{id:{}},async setup($){let r,f;const t=$,d=k(),i=k(!1),v=k({adults:2,children:0,infants:0,pets:0}),g=k(),c=Ie("promo-form"),l=k(),s=k(!1),{data:u,error:q}=([r,f]=F(()=>z(`calendar-${t.id}`,()=>$fetch(`https://jwayz3cdd5.execute-api.eu-north-1.amazonaws.com/dev/api_properties/${t.id}/calendar`))),r=await r,f(),r);let _=u.value,b=null;Pe([d,v,g],async([D,p,T])=>{D!=null&&(s.value=!0,b&&clearTimeout(b),b=setTimeout(async()=>{const m={checkin_date:d.value?.[0]??"",checkout_date:d.value?.[1]??"",guests:{adults:v.value.adults,children:v.value.children,infants:v.value.infants,pets:v.value.pets},promo_code:g.value};T!=null&&(m.promo_code=T),console.log("quote being generated...: ",m);try{const w=await $fetch(`https://jwayz3cdd5.execute-api.eu-north-1.amazonaws.com/dev/api_properties/${t.id}/quote`,{method:"POST",body:m});w&&(l.value=w,console.log("Quote received: ",l.value),s.value=!1)}catch(w){console.error("Error fetching quote:",w),s.value=!1}},700))},{deep:!0});const I=()=>{i.value=!i.value},H=()=>{console.log("clearing quote response"),l.value=void 0,s.value=!1},E=()=>{if(c.value!=null)if(c.value.value!=null&&c.value.value!="")g.value=c.value.value;else return},L=()=>{l.value&&l.value.booking_url&&window.open(l.value.booking_url,"_blank","noopener")};return(D,p)=>{const T=qe;return o(),a("div",Ye,[e("div",Ke,[n(_)?y("",!0):(o(),a("h2",Je," Sorry, we cannot display the booking details at this time, try refreshing the page.")),n(_)?(o(),a("div",Xe,[x(Ae,{onDeleteQuoteResponse:H,modelValue:d.value,"onUpdate:modelValue":p[0]||(p[0]=m=>d.value=m),cal_data:n(_)},null,8,["modelValue","cal_data"])])):y("",!0),n(_)?(o(),a("div",Ze,[p[6]||(p[6]=e("h1",null,"Your Stay",-1)),e("div",et,[n(_)?(o(),R(T,{key:0,modelValue:v.value,"onUpdate:modelValue":p[1]||(p[1]=m=>v.value=m)},null,8,["modelValue"])):y("",!0)]),!s.value&&l.value?(o(),a("div",tt,[p[5]||(p[5]=e("h2",null,"Price Details",-1)),e("table",st,[e("tbody",ot,[e("tr",null,[p[2]||(p[2]=e("td",{class:"td-start"},"Sub Total",-1)),e("td",at,h(l.value.sub_total),1)]),(o(!0),a(C,null,S(l.value.fees.filter(m=>m.amount>0),(m,w)=>(o(),a("tr",{key:`$fee-${w}`},[e("td",nt,h(m.label),1),e("td",lt,h(m.formatted),1)]))),128)),(o(!0),a(C,null,S(l.value.discounts,(m,w)=>(o(),a("tr",{key:`$discount-${w}`},[e("td",rt,h(m.label),1),e("td",it,h(m.formatted),1)]))),128))])]),e("table",ct,[e("tbody",ut,[e("tr",null,[p[3]||(p[3]=e("td",{class:"td-total-start"},"Total Before Taxes",-1)),e("td",dt,h(l.value.total_before_tax),1)])])]),e("div",_t,[l.value?(o(),a("p",{key:0,class:B(["promo-code-text",{hidden:i.value}]),onClick:I,ref:"promo-text"},"I have a discount code",2)):y("",!0),e("div",{class:B(["promo-container",{hidden:!i.value}])},[e("input",pt,null,512),e("button",{class:"promo-code-btn",onClick:E},"Submit")],2)]),e("div",{class:"request-book-container"},[e("button",{class:"rq-book-btn",onClick:L},"Request to Book"),p[4]||(p[4]=e("p",{class:"small-text"},"You won't be charged yet",-1))])])):y("",!0),s.value?(o(),a("div",mt)):y("",!0)])):y("",!0)])])}}}),vt=P(ft,[["__scopeId","data-v-b1aaaca9"]]),ht={},gt={class:"location-wrapper"};function bt($,r){return o(),a("div",gt,r[0]||(r[0]=[e("h1",{style:{"text-align":"center"}},' "Find Us" Placeholder ',-1)]))}const yt=P(ht,[["render",bt],["__scopeId","data-v-d14de1c9"]]),kt={key:0},wt={class:"wrapper"},$t={key:0},Ct={key:1},xt=A({__name:"[id]",async setup($){let r,f;const d=Te().params.id,i=Ve(),{data:v}=([r,f]=F(async()=>z("properties",async()=>(await i.fetchProperties(),i.properties))),r=await r,f(),r),{data:g}=([r,f]=F(async()=>z(`images-${d}`,async()=>(await i.fetchImages(d),i.property_images[d]))),r=await r,f(),r),c=G(()=>{if(v.value)return v.value.find(l=>l.id.toString()===d)});return(l,s)=>{const u=Ne,q=je,_=vt,b=Fe,I=yt;return n(c)?(o(),a("div",kt,[n(g)?(o(),R(u,{key:0,images:n(g)},null,8,["images"])):y("",!0),e("div",wt,[e("h1",null,h(n(c).name),1),e("p",null,h(n(c).summary),1),s[1]||(s[1]=e("h2",null," Amenities ",-1)),x(q,{amenities:n(c).amenities},null,8,["amenities"]),s[2]||(s[2]=e("h2",null," Space Overview ",-1)),e("p",null,h(n(c).details.space_overview),1),n(c).details.neighborhood_description?(o(),a("div",$t,[s[0]||(s[0]=e("h3",null," About the Neighborhood",-1)),e("p",null,h(n(c).details.neighborhood_description),1)])):y("",!0),s[3]||(s[3]=e("h3",null," Guest Access ",-1)),e("p",null,h(n(c).details.guest_access),1),s[4]||(s[4]=e("h3",null," Other Details ",-1)),e("p",null,h(n(c).details.other_details),1),x(_,{id:n(d)},null,8,["id"]),s[5]||(s[5]=e("h1",{style:{"text-align":"center"}},"Reviews",-1)),x(b,{propertyId:n(d)},null,8,["propertyId"]),x(I)])])):(o(),a("div",Ct,s[6]||(s[6]=[e("p",null," Loading property... ",-1)])))}}}),Pt=P(xt,[["__scopeId","data-v-8823d896"]]);export{Pt as default};
