import{e as q,r as k,f as M,c as a,a as e,m as y,F as C,g as S,h as l,v as F,o as s,n as A,_ as P,k as R,t as g,x as U,y as N,z as O,A as Q,B as W,C as j,D as Y,E as K,G as J,H as X,I as Z,J as ee,K as te,L as oe,M as se,N as ae,O as ne,P as le,Q as re,R as ie,S as ce,T as ue,U as de,V as _e,W as pe,X as me,Y as fe,Z as ve,$ as he,a0 as ge,a1 as be,a2 as ye,a3 as ke,a4 as we,a5 as $e,a6 as Ce,b as x,a7 as xe,a8 as Se,a9 as Te,s as z,j as Ie,i as H,aa as Pe}from"./CuA01fsf.js";import{s as Be,V as Ae,b as G,_ as qe,u as Ve,a as Fe}from"./DVfMA2p6.js";const ze={class:"hero"},Ge={class:"slideshow"},Re=["src"],He={class:"gallery-grid"},De=["src","onClick"],Ee=["src"],Le={class:"thumbnail-strip"},Me=["src","onClick"],Ue=q({__name:"PropHero",props:{images:{}},setup($){const r=$,f=k(0),t=k(!1),d=k(!1),i=k(0);M(()=>{Be(()=>{f.value=(f.value+1)%r.images.length},5e3)});function v(){t.value=!0}function b(u){i.value=u,d.value=!0}function c(){t.value=!1,d.value=!1}function n(){i.value=(i.value+1)%r.images.length}function o(){i.value=(i.value-1+r.images.length)%r.images.length}return(u,V)=>(s(),a("div",ze,[e("div",Ge,[(s(!0),a(C,null,S(u.images,(_,h)=>(s(),a("img",{key:_,src:_,class:A(["hero-image",{active:h===l(f)}]),alt:"Hero Slide"},null,10,Re))),128))]),e("button",{class:"see-photos-btn",onClick:v},"See all photos"),l(t)?(s(),a("div",{key:0,class:"modal",onClick:F(c,["self"])},[e("div",He,[(s(!0),a(C,null,S(u.images,(_,h)=>(s(),a("img",{key:_,src:_,class:"gallery-thumb",onClick:T=>b(h)},null,8,De))),128))])])):y("",!0),l(d)?(s(),a("div",{key:1,class:"modal slideshow-modal",onClick:F(c,["self"])},[e("img",{src:u.images[l(i)],class:"slideshow-image"},null,8,Ee),e("button",{class:"nav left",onClick:o},"‹"),e("button",{class:"nav right",onClick:n},"›"),e("button",{class:"close",onClick:c},"×"),e("div",Le,[(s(!0),a(C,null,S(u.images,(_,h)=>(s(),a("img",{key:_,src:_,class:A(["thumbnail-preview",{active:h===l(i)}]),onClick:F(T=>i.value=h,["stop"])},null,10,Me))),128))])])):y("",!0)]))}}),Ne=P(Ue,[["__scopeId","data-v-cb82d1e3"]]),Oe={class:"amenities-grid"},Qe={class:"amenity-text"},We=q({__name:"Amenities",props:{amenities:{}},setup($){const r=$,f={};function t(n,o){o.forEach(u=>{f[u]=n})}t(U,["ac","refrigerator","mini_fridge","freezer"]),t(N,["alfresco_dining","barbeque_utensils","cooking_basics","dishes_and_silverware","oven","kitchen","full_kitchen","formal_dining_area"]),t(O,["arcade_machine","game_console"]),t(Q,["board_games","life_size_games","theme_room"]),t(W,["baking_sheet","cleaning_products","hair_dryer"]),t(j,["books"]),t(Y,["ceiling_fan","portable_fans"]),t(K,["coffee","coffee_maker"]),t(J,["hangers","washer","wardrobe_or_closet","iron","laundromat_nearby"]),t(X,["dining_table"]),t(Z,["dishwasher","dryer","essentials","microwave","stair_gates","toaster"]),t(ee,["bbq_area","fireplace","heating","fire_pit"]),t(te,["fire_extinguisher"]),t(oe,["first_aid_kit"]),t(se,["free_parking","outdoor_parking","street_parking"]),t(ae,["gym"]),t(ne,["blender"]),t(le,["laptop_friendly_workspace"]),t(re,["bathtub","hot_water"]),t(ie,["high_chair","outdoor_seating"]),t(ce,["pool"]),t(ue,["tv","smart_tv"]),t(de,["wine_glasses"]),t(_e,["wireless_internet","internet"]),t(pe,["crib","pack_n_play_travel_crib"]),t(me,["playground"]),t(fe,["twenty_four_hour_checkin"]),t(ve,["garden_or_backyard","patio","patio_or_balcony","room_darkening_shades"]),t(he,["conditioner","body_soap","shampoo","shower_gel"]),t(ge,["long_term_stays_allowed","private_entrance"]),t(be,["carbon_monoxide_detector"]),t(ye,["private_living_room"]),t(ke,["bathroom_essentials","bath_towel","walk_in_shower"]),t(we,["toilet_paper"]),t($e,["bed_linens","bedroom_comforts","extra_pillows_and_blankets"]),t(Ce,["smoke_detector"]);const d=Se;function i(n){return f[n]||d}function v(n){const o={ac:"AC",bbq_area:"BBQ Area",wifi:"Wi-Fi",tv:"TV",smart_tv:"Smart TV",twenty_four_hour_checkin:"Twenty-Four Hour Check-In",walk_in_shower:"Walk-In Shower"};return o[n]?o[n]:n.split("_").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" ")}const b=k(!1),c=R(()=>b.value?r.amenities:r.amenities.slice(0,16));return(n,o)=>(s(),a(C,null,[e("ul",Oe,[(s(!0),a(C,null,S(l(c),u=>(s(),a("li",{key:u,class:"amenity-item"},[x(l(xe),{icon:i(u),class:"icon"},null,8,["icon"]),e("span",Qe,g(v(u)),1)]))),128))]),r.amenities.length>16?(s(),a("button",{key:0,class:"toggle-btn",onClick:o[0]||(o[0]=u=>b.value=!l(b))},g(l(b)?"Show less":"Show all amenities"),1)):y("",!0)],64))}}),je=P(We,[["__scopeId","data-v-51decdd6"]]),Ye={class:"booking-wrapper"},Ke={class:"booking-component"},Je={key:0},Xe={key:1,class:"calendar-col"},Ze={key:2,class:"booking-info"},et={class:"placeholder-guest-selector"},tt={key:0,class:"price-info"},ot={class:"price-table"},st={class:"price-table-body"},at={class:"td-end"},nt={class:"td-start"},lt={class:"td-end"},rt={class:"td-start"},it={class:"td-end"},ct={class:"total-table"},ut={class:"price-table-body"},dt={class:"td-total-end"},_t={class:"promo-container"},pt={type:"text",class:"promo-code-form",ref:"promo-form"},mt={key:1,class:"loader"},ft=q({__name:"PropBooking",props:{id:{}},async setup($){let r,f;const t=$,d=k(),i=k(!1),v=k({adults:2,children:0,infants:0,pets:0}),b=k(),c=Te("promo-form"),n=k(),o=k(!1),{data:u,error:V}=([r,f]=z(()=>G(`calendar-${t.id}`,()=>$fetch(`https://jwayz3cdd5.execute-api.eu-north-1.amazonaws.com/dev/api_properties/${t.id}/calendar`))),r=await r,f(),r);let _=u.value,h=null;Ie([d,v,b],async([I,p,B])=>{if(!I||!I[0]||!I[1]){n.value=void 0,o.value=!1,h&&clearTimeout(h);return}I!=null&&(o.value=!0,h&&clearTimeout(h),h=setTimeout(async()=>{const m={checkin_date:d.value?.[0]??"",checkout_date:d.value?.[1]??"",guests:{adults:v.value.adults,children:v.value.children,infants:v.value.infants,pets:v.value.pets},promo_code:b.value};B!=null&&(m.promo_code=B),console.log("quote being generated...: ",m);try{const w=await $fetch(`https://jwayz3cdd5.execute-api.eu-north-1.amazonaws.com/dev/api_properties/${t.id}/quote`,{method:"POST",body:m});w&&(n.value=w,console.log("Quote received: ",n.value),o.value=!1)}catch(w){console.error("Error fetching quote:",w),o.value=!1}},700))},{deep:!0});const T=()=>{i.value=!i.value},D=()=>{console.log("clearing quote response"),n.value=void 0,o.value=!1},E=()=>{if(c.value!=null)if(c.value.value!=null&&c.value.value!="")b.value=c.value.value;else return},L=()=>{n.value&&n.value.booking_url&&window.open(n.value.booking_url,"_blank","noopener")};return(I,p)=>{const B=qe;return s(),a("div",Ye,[e("div",Ke,[l(_)?y("",!0):(s(),a("h2",Je," Sorry, we cannot display the booking details at this time, try refreshing the page.")),l(_)?(s(),a("div",Xe,[x(Ae,{onDeleteQuoteResponse:D,modelValue:d.value,"onUpdate:modelValue":p[0]||(p[0]=m=>d.value=m),cal_data:l(_)},null,8,["modelValue","cal_data"])])):y("",!0),l(_)?(s(),a("div",Ze,[p[6]||(p[6]=e("h1",null,"Your Stay",-1)),e("div",et,[l(_)?(s(),H(B,{key:0,modelValue:v.value,"onUpdate:modelValue":p[1]||(p[1]=m=>v.value=m)},null,8,["modelValue"])):y("",!0)]),!o.value&&n.value?(s(),a("div",tt,[p[5]||(p[5]=e("h2",null,"Price Details",-1)),e("table",ot,[e("tbody",st,[e("tr",null,[p[2]||(p[2]=e("td",{class:"td-start"},"Sub Total",-1)),e("td",at,g(n.value.sub_total),1)]),(s(!0),a(C,null,S(n.value.fees.filter(m=>m.amount>0),(m,w)=>(s(),a("tr",{key:`$fee-${w}`},[e("td",nt,g(m.label),1),e("td",lt,g(m.formatted),1)]))),128)),(s(!0),a(C,null,S(n.value.discounts,(m,w)=>(s(),a("tr",{key:`$discount-${w}`},[e("td",rt,g(m.label),1),e("td",it,g(m.formatted),1)]))),128))])]),e("table",ct,[e("tbody",ut,[e("tr",null,[p[3]||(p[3]=e("td",{class:"td-total-start"},"Total Before Taxes",-1)),e("td",dt,g(n.value.total_before_tax),1)])])]),e("div",_t,[n.value?(s(),a("p",{key:0,class:A(["promo-code-text",{hidden:i.value}]),onClick:T,ref:"promo-text"},"I have a discount code",2)):y("",!0),e("div",{class:A(["promo-container",{hidden:!i.value}])},[e("input",pt,null,512),e("button",{class:"promo-code-btn",onClick:E},"Submit")],2)]),e("div",{class:"request-book-container"},[e("button",{class:"rq-book-btn",onClick:L},"Request to Book"),p[4]||(p[4]=e("p",{class:"small-text"},"You won't be charged yet",-1))])])):y("",!0),o.value?(s(),a("div",mt)):y("",!0)])):y("",!0)])])}}}),vt=P(ft,[["__scopeId","data-v-133ee44a"]]),ht={},gt={class:"location-wrapper"};function bt($,r){return s(),a("div",gt,r[0]||(r[0]=[e("h1",{style:{"text-align":"center"}},' "Find Us" Placeholder ',-1)]))}const yt=P(ht,[["render",bt],["__scopeId","data-v-d14de1c9"]]),kt={key:0},wt={class:"wrapper"},$t={key:0},Ct={key:1},xt=q({__name:"[id]",async setup($){let r,f;const d=Pe().params.id,i=Ve(),{data:v}=([r,f]=z(async()=>G("properties",async()=>(await i.fetchProperties(),i.properties))),r=await r,f(),r),{data:b}=([r,f]=z(async()=>G(`images-${d}`,async()=>(await i.fetchImages(d),i.property_images[d]))),r=await r,f(),r),c=R(()=>{if(v.value)return v.value.find(n=>n.id.toString()===d)});return(n,o)=>{const u=Ne,V=je,_=vt,h=Fe,T=yt;return l(c)?(s(),a("div",kt,[l(b)?(s(),H(u,{key:0,images:l(b)},null,8,["images"])):y("",!0),e("div",wt,[e("h1",null,g(l(c).name),1),e("p",null,g(l(c).summary),1),o[1]||(o[1]=e("h2",null," Amenities ",-1)),x(V,{amenities:l(c).amenities},null,8,["amenities"]),o[2]||(o[2]=e("h2",null," Space Overview ",-1)),e("p",null,g(l(c).details.space_overview),1),l(c).details.neighborhood_description?(s(),a("div",$t,[o[0]||(o[0]=e("h3",null," About the Neighborhood",-1)),e("p",null,g(l(c).details.neighborhood_description),1)])):y("",!0),o[3]||(o[3]=e("h3",null," Guest Access ",-1)),e("p",null,g(l(c).details.guest_access),1),o[4]||(o[4]=e("h3",null," Other Details ",-1)),e("p",null,g(l(c).details.other_details),1),x(_,{id:l(d)},null,8,["id"]),o[5]||(o[5]=e("h1",{style:{"text-align":"center"}},"Reviews",-1)),x(h,{propertyId:l(d)},null,8,["propertyId"]),x(T)])])):(s(),a("div",Ct,o[6]||(o[6]=[e("p",null," Loading property... ",-1)])))}}}),It=P(xt,[["__scopeId","data-v-8823d896"]]);export{It as default};
