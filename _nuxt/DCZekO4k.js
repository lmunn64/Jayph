import{s as A}from"./x_rD_Ya3.js";import{g as E,j as ee,k as ae,l as C,m as te,n as se,p as ne,i as re,q as W,r as oe,s as $,v as N,x as ce,y as q,z as ie,A as v,B as le,C as I,D as O,c as D,o as p,a as c,F as B,E as j,G as S,_ as R,H as G,I as U,t as b,b as x,d as z,J,K as ue,L as Y,M as de,N as _e,O as fe}from"./CNyYTR6-.js";const me={trailing:!0};function ve(a,e=25,o={}){if(o={...me,...o},!Number.isFinite(e))throw new TypeError("Expected `wait` to be a finite number");let r,t,n=[],s,i;const f=(m,d)=>(s=he(a,m,d),s.finally(()=>{if(s=null,o.trailing&&i&&!t){const w=f(m,i);return i=null,w}}),s);return function(...m){return s?(o.trailing&&(i=m),s):new Promise(d=>{const w=!t&&o.leading;clearTimeout(t),t=setTimeout(()=>{t=null;const u=o.leading?r:f(this,m);for(const h of n)h(u);n=[]},e),w?(r=f(this,m),d(r)):n.push(d)})}}async function he(a,e,o){return await a.apply(e,o)}const pe=Symbol.for("nuxt:client-only"),ye=a=>a==="defer"||a===!1;function ge(...a){var h;const e=typeof a[a.length-1]=="string"?a.pop():void 0;De(a[0],a[1])&&a.unshift(e);let[o,r,t={}]=a;const n=E(()=>ee(o));if(typeof n.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof r!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const s=ae();t.server??(t.server=!0),t.default??(t.default=be),t.getCachedData??(t.getCachedData=X),t.lazy??(t.lazy=!1),t.immediate??(t.immediate=!0),t.deep??(t.deep=C.deep),t.dedupe??(t.dedupe="cancel"),t._functionName,s._asyncData[n.value];const i={cause:"initial",dedupe:t.dedupe};(h=s._asyncData[n.value])!=null&&h._init||(i.cachedData=t.getCachedData(n.value,s,{cause:"initial"}),s._asyncData[n.value]=F(s,n.value,r,t,i.cachedData));const f=s._asyncData[n.value];f._deps++;const m=()=>s._asyncData[n.value].execute(i),d=t.server!==!1&&s.payload.serverRendered;{let l=function(y){const g=s._asyncData[y];g!=null&&g._deps&&(g._deps--,g._deps===0&&(g==null||g._off()))};const _=te();if(_&&d&&t.immediate&&!_.sp&&(_.sp=[]),_&&!_._nuxtOnBeforeMountCbs){_._nuxtOnBeforeMountCbs=[];const y=_._nuxtOnBeforeMountCbs;se(()=>{y.forEach(g=>{g()}),y.splice(0,y.length)}),ne(()=>y.splice(0,y.length))}const P=_&&(_._nuxtClientOnly||re(pe,!1));d&&s.isHydrating&&(f.error.value||f.data.value!=null)?(f.pending.value=!1,f.status.value=f.error.value?"error":"success"):_&&(!P&&s.payload.serverRendered&&s.isHydrating||t.lazy)&&t.immediate?_._nuxtOnBeforeMountCbs.push(m):t.immediate&&m();const Z=le(),K=W([n,...t.watch||[]],([y],[g])=>{var T,V;if((y||g)&&y!==g){const k=((T=s._asyncData[g])==null?void 0:T.data.value)!==C.value;g&&l(g);const H={cause:"initial",dedupe:t.dedupe};(V=s._asyncData[y])!=null&&V._init||(H.cachedData=t.getCachedData(y,s,{cause:"initial"}),s._asyncData[y]=F(s,y,r,t,H.cachedData)),s._asyncData[y]._deps++,(t.immediate||k)&&s._asyncData[y].execute(H)}else f._execute({cause:"watch",dedupe:t.dedupe})},{flush:"sync"});Z&&oe(()=>{K(),l(n.value)})}const w={data:L(()=>{var l;return(l=s._asyncData[n.value])==null?void 0:l.data}),pending:L(()=>{var l;return(l=s._asyncData[n.value])==null?void 0:l.pending}),status:L(()=>{var l;return(l=s._asyncData[n.value])==null?void 0:l.status}),error:L(()=>{var l;return(l=s._asyncData[n.value])==null?void 0:l.error}),refresh:(...l)=>s._asyncData[n.value].execute(...l),execute:(...l)=>s._asyncData[n.value].execute(...l),clear:()=>Q(s,n.value)},u=Promise.resolve(s._asyncDataPromises[n.value]).then(()=>w);return Object.assign(u,w),u}function L(a){return E({get(){var e;return(e=a())==null?void 0:e.value},set(e){const o=a();o&&(o.value=e)}})}function De(a,e){return!(typeof a=="string"||typeof a=="object"&&a!==null||typeof a=="function"&&typeof e=="function")}function Q(a,e){e in a.payload.data&&(a.payload.data[e]=void 0),e in a.payload._errors&&(a.payload._errors[e]=C.errorValue),a._asyncData[e]&&(a._asyncData[e].data.value=void 0,a._asyncData[e].error.value=C.errorValue,a._asyncData[e].pending.value=!1,a._asyncData[e].status.value="idle"),e in a._asyncDataPromises&&(a._asyncDataPromises[e]&&(a._asyncDataPromises[e].cancelled=!0),a._asyncDataPromises[e]=void 0)}function we(a,e){const o={};for(const r of e)o[r]=a[r];return o}function F(a,e,o,r,t){var w;(w=a.payload._errors)[e]??(w[e]=C.errorValue);const n=r.getCachedData!==X,s=o,i=r.deep?$:N,f=t!=null,m=a.hook("app:data:refresh",async u=>{(!u||u.includes(e))&&await d.execute({cause:"refresh:hook"})}),d={data:i(f?t:r.default()),pending:N(!f),error:ce(a.payload._errors,e),status:N("idle"),execute:(u={})=>{if(a._asyncDataPromises[e]){if(ye(u.dedupe??r.dedupe))return a._asyncDataPromises[e];a._asyncDataPromises[e].cancelled=!0}if(u.cause==="initial"||a.isHydrating){const l="cachedData"in u?u.cachedData:r.getCachedData(e,a,{cause:u.cause??"refresh:manual"});if(l!=null)return a.payload.data[e]=d.data.value=l,d.error.value=C.errorValue,d.status.value="success",Promise.resolve(l)}d.pending.value=!0,d.status.value="pending";const h=new Promise((l,_)=>{try{l(s(a))}catch(P){_(P)}}).then(async l=>{if(h.cancelled)return a._asyncDataPromises[e];let _=l;r.transform&&(_=await r.transform(l)),r.pick&&(_=we(_,r.pick)),a.payload.data[e]=_,d.data.value=_,d.error.value=C.errorValue,d.status.value="success"}).catch(l=>{if(h.cancelled)return a._asyncDataPromises[e];d.error.value=ie(l),d.data.value=v(r.default()),d.status.value="error"}).finally(()=>{h.cancelled||(d.pending.value=!1,delete a._asyncDataPromises[e])});return a._asyncDataPromises[e]=h,a._asyncDataPromises[e]},_execute:ve((...u)=>d.execute(...u),0,{leading:!0}),_default:r.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{var u;m(),(u=a._asyncData[e])!=null&&u._init&&(a._asyncData[e]._init=!1),n||q(()=>{var h;(h=a._asyncData[e])!=null&&h._init||(Q(a,e),d.execute=()=>Promise.resolve(),d.data.value=C.value)})}};return d}const be=()=>C.value,X=(a,e,o)=>{if(e.isHydrating)return e.payload.data[a];if(o.cause!=="refresh:manual"&&o.cause!=="refresh:hook")return e.static.data[a]},Ce={class:"hero"},Pe={class:"slideshow"},$e=["src"],xe=I({__name:"Hero",setup(a){const e=["https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1600&q=80","https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=1600&q=80","https://images.unsplash.com/photo-1482192596544-9eb780fc7f66?auto=format&fit=crop&w=1600&q=80"],o=$(0);return O(()=>{A(()=>{o.value=(o.value+1)%e.length},5e3)}),(r,t)=>(p(),D("div",Ce,[c("div",Pe,[(p(),D(B,null,j(e,(n,s)=>c("img",{key:n,src:n,class:S(["hero-image",{active:s===v(o)}]),alt:"Hero Slide"},null,10,$e)),64))]),t[0]||(t[0]=c("div",{class:"gradient-overlay"},null,-1)),t[1]||(t[1]=c("div",{class:"hero-overlay"},[c("h1",{class:"hero-title"},"Welcome to Fountain City Stays!"),c("p",{class:"hero-subtitle"},"Our spaces are designed with you in mind. We wish to provide an atmosphere that makes you smile. ")],-1))]))}}),Re=R(xe,[["__scopeId","data-v-8e3d9abc"]]),Be={};function Ie(a,e){const o=Re;return p(),G(o)}const Ee=R(Be,[["render",Ie]]),Se={class:"card"},Le={class:"thumbnail-wrapper"},Oe=["src"],je={class:"content"},He={class:"amenities"},Ne="https://media.tenor.com/P4HGr5rklqYAAAAM/spongebob.gif",ze=I({__name:"PropCard",props:{title:{},img_src:{},description:{},city:{},state:{},guests:{},bedrooms:{},bathrooms:{}},setup(a){const e=a;console.log(e.img_src);function o(r){r.target.src=Ne}return(r,t)=>{const n=U("font-awesome-icon");return p(),D("div",Se,[c("div",Le,[c("img",{src:e.img_src,alt:"thumbnail",class:"thumbnail",onError:o},null,40,Oe)]),c("div",je,[c("h3",null,b(e.title),1),c("p",null,b(e.city)+", "+b(e.state),1)]),c("div",He,[c("p",null,[x(n,{icon:"user"}),z(" Guests "+b(e.guests),1)]),c("p",null,[x(n,{icon:"bed"}),z(" Bedrooms "+b(e.bedrooms),1)]),c("p",null,[x(n,{icon:"bath"}),z(" Bathrooms "+b(e.bathrooms),1)])])])}}}),Te=R(ze,[["__scopeId","data-v-ad5e6107"]]),Ve={class:"filter-buttons"},Fe={class:"card-grid"},Me=I({__name:"PropContainer",props:{properties:{}},setup(a){const e=a,o=$("Kansas City"),r=E(()=>e.properties.filter(t=>t.address.city===o.value));return(t,n)=>{const s=Te;return p(),D(B,null,[n[2]||(n[2]=c("h1",null,"Our Properties",-1)),c("div",Ve,[c("button",{class:S({active:v(o)==="Kansas City"}),onClick:n[0]||(n[0]=i=>o.value="Kansas City")},"Kansas City",2),c("button",{class:S({active:v(o)==="Branson West"}),onClick:n[1]||(n[1]=i=>o.value="Branson West")},"Branson West",2)]),c("div",Fe,[(p(!0),D(B,null,j(v(r),(i,f)=>(p(),G(s,{title:i.name,img_src:i.picture_url,description:i.description,city:i.address.city,state:i.address.state,guests:i.capacity.max,bedrooms:i.capacity.bedrooms,bathrooms:i.capacity.bathrooms},null,8,["title","img_src","description","city","state","guests","bedrooms","bathrooms"]))),256))])],64)}}}),We=R(Me,[["__scopeId","data-v-9fd51418"]]),qe={class:"card"},Ge={class:"header"},Ue=["src"],Je={class:"header-info"},Ye={class:"rating-row"},Qe={class:"review-info"},Xe={style:{color:"#444"}},Ze="https://styles.redditmedia.com/t5_8ajl6g/styles/communityIcon_ootntw58i8ue1.png",Ke=I({__name:"ReviewCard",props:{name:{},img_src:{},date:{},platform:{},review_content:{},rating:{}},setup(a){const e=a;function o(s){s.target.src=Ze}const r=$(!1),t=$(!1),n=$(null);return O(()=>{const s=n.value;s&&s.scrollHeight>s.clientHeight+2&&(t.value=!0)}),console.log(e),(s,i)=>{const f=U("FontAwesomeIcon");return p(),D("div",qe,[c("div",Ge,[c("img",{class:"avatar",src:e.img_src,alt:"Profile Picture",onError:o},null,40,Ue),c("div",Je,[c("h3",null,b(e.name),1),c("div",Ye,[(p(),D(B,null,j(5,m=>x(f,{style:{color:"var(--accent-color)"},icon:"star",key:m})),64))])])]),c("div",Qe,[c("p",null,[c("span",Xe,b(e.date)+" · "+b(e.platform),1)]),c("p",{class:S(["review",{clamped:!v(r)}]),ref_key:"reviewRef",ref:n},b(e.review_content),3),v(t)?(p(),D("button",{key:0,onClick:i[0]||(i[0]=m=>r.value=!v(r)),class:"toggle-btn"},b(v(r)?"Show less":"Read more"),1)):J("",!0)])])}}}),ke=R(Ke,[["__scopeId","data-v-3ed61029"]]),Ae={key:0,class:"carousel-wrapper"},ea={key:1,class:"loading-text"},M=666,aa=I({__name:"ReviewCarousel",async setup(a){let e,o;const r=ue({reviews:[],isLoading:!0}),{data:t}=([e,o]=Y(()=>ge("reviews",()=>$fetch("https://az2zhr2dqyzfs3cjwc55p52yje0ncfyj.lambda-url.eu-north-1.on.aws/api_properties/cfa6a066-72e8-4a24-a1e4-e48273983344/reviews"))),e=await e,o(),e);O(()=>{Array.isArray(t.value)?(t.value.forEach(u=>{r.reviews.push({name:u.name,img_src:u.img_src,date:u.date,platform:u.platform.charAt(0).toUpperCase()+u.platform.slice(1),review_content:u.review_content,rating:u.rating})}),r.isLoading=!1):console.error("Could not fetch review data")});const n=$(0),s=E(()=>r.reviews.length),i=$(null),f=E(()=>[...r.reviews,...r.reviews,...r.reviews]);function m(u){if(!i.value)return;const h=(u+s.value)*M-(i.value.clientWidth-M)/2;i.value.scrollTo({left:h,behavior:"smooth"})}function d(){n.value=(n.value+1)%s.value,m(n.value)}function w(){n.value=(n.value-1+s.value)%s.value,m(n.value)}return O(()=>{q(()=>m(n.value))}),W(n,()=>{m(n.value)}),(u,h)=>{const l=ke;return p(),D(B,null,[h[0]||(h[0]=c("h1",null," Reviews ",-1)),v(r).isLoading?(p(),D("div",ea," Loading reviews... ")):(p(),D("div",Ae,[c("button",{class:"nav-btn prev",onClick:w},"‹"),c("div",{class:"carousel",ref_key:"carouselRef",ref:i},[(p(!0),D(B,null,j(v(f),(_,P)=>(p(),D("div",{key:`${_.name}-${P}`,class:S(["carousel-card",{centered:P-v(s)===v(n)}]),style:de({transform:P-v(s)===v(n)?"scale(1)":"scale(0.65)",opacity:P-v(s)===v(n)?1:.5,transition:"transform 0.3s ease, opacity 0.3s ease"})},[x(l,_e({ref_for:!0},_),null,16)],6))),128))],512),c("button",{class:"nav-btn next",onClick:d},"›")]))],64)}}}),ta=R(aa,[["__scopeId","data-v-3ca8b276"]]),sa=fe("property",{state:()=>({properties:[],isLoaded:!1}),actions:{async fetchProperties(){if(this.isLoaded)return;const a=await $fetch("https://az2zhr2dqyzfs3cjwc55p52yje0ncfyj.lambda-url.eu-north-1.on.aws/api_properties");this.properties=a.map(e=>({id:e.id,name:e.name,picture_url:e.picture_url,address:{city:e.address.city,state:e.address.state,country:e.address.country,postcode:e.address.postcode},amenities:e.amenities,description:e.description,summary:e.summary,capacity:{max:e.capacity.max,bedrooms:e.capacity.bedrooms,beds:e.capacity.beds,bathrooms:e.capacity.bathrooms},house_rules:{pets_allowed:e.house_rules.pets_allowed,smoking_allowed:e.house_rules.smoking_allowed,events_allowed:e.house_rules.events_allowed},details:{space_overview:e.details.space_overview,guest_access:e.details.guest_access,other_details:e.details.other_details,neighborhood_description:e.details.neighborhood_description,getting_around:e.details.getting_around}})),this.isLoaded=!0}}}),na={class:"wrapper"},ra={key:0},oa=I({__name:"index",async setup(a){let e,o;const r=sa();return[e,o]=Y(()=>r.fetchProperties()),await e,o(),(t,n)=>{const s=Ee,i=We,f=ta;return p(),D("div",na,[x(s),v(r).isLoaded?(p(),D("div",ra,[x(i,{properties:v(r).properties},null,8,["properties"])])):J("",!0),x(f)])}}}),la=R(oa,[["__scopeId","data-v-b24d30b4"]]);export{la as default};
